= 3.4 Create a Secret for Kafka Credentials

include::_attributes.adoc[]


image::kafka/secret-create-from-yaml.png[alt text, 800]


[.lines_space]
[.console-input]
[source,yaml]
----
apiVersion: v1
kind: Secret
metadata:
  name: object-detection-kafka
  labels:
    app: object-detection
    app.kubernetes.io/component: object-detection
    app.kubernetes.io/instance: object-detection
    app.kubernetes.io/part-of: object-detection
data:
stringData:
  KAFKA_BOOTSTRAP_SERVER: <Enter your Kafka Bootstrap server>
  KAFKA_SECURITY_PROTOCOL: SASL_SSL
  KAFKA_SASL_MECHANISM: PLAIN
  KAFKA_USERNAME: <Enter your Kafka SA Client ID>
  KAFKA_PASSWORD: <Enter your Kafka SA Client Secret>
  KAFKA_TOPIC_IMAGES: images
  KAFKA_TOPIC_OBJECTS: objects
----

image::kafka/secret-data.png[alt text, 800]

image::kafka/secret-created.png[alt text, 800]

image::kafka/secret-add-workload.png[alt text, 800]

image::kafka/secret-in-app.png[alt text, 800]


xref:3-04-kakfa-consumer.adoc[head to the next section.]