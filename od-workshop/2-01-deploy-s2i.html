<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Deploying as Source To Image Application :: Object Detection Workshop</title>
    <link rel="canonical" href="https://rh-aiservices-bu.github.io/od-workshop/od-workshop/2-01-deploy-s2i.html">
    <link rel="prev" href="1-05-model-api.html">
    <link rel="next" href="2-02-testing-deployment.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://developers.redhat.com" target="_blank"><img src="../_/img/NewRHDFullLogo_4-color_white-wordmark.png" height="40px" alt="Red Hat Developer Program"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="https://rh-aiservices-bu.github.io/od-workshop">Object Detection Workshop</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://developers.redhat.com/ebooks/" target="_blank">Books</a>
        <a class="navbar-item" href="https://developers.redhat.com/cheatsheets/" target="_blank">Cheat Sheets</a>
        <a class="navbar-item" href="https://developers.redhat.com/events/" target="_blank">Upcoming Events</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">More Tutorials</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/kubernetes-tutorial/" target="_blank">Kubernetes</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/istio-tutorial/" target="_blank">Istio</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/quarkus-tutorial/" target="_blank">Quarkus</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/knative-tutorial/" target="_blank">Knative</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/tekton-tutorial/" target="_blank">Tekton</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="od-workshop" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html"></a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">1. Notebooks</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="1-01-start-jupyter.html">1. Starting a Jupyter environment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="1-02-jupyter-env.html">2. The Jupyter environment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="1-03-notebooks.html">3. Notebooks</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="1-04-object-detection.html">4. Object Detection</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="1-05-model-api.html">5. Serving the model as an API</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">2. Serving with S2I</span>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="2-01-deploy-s2i.html">1. Deploy with Source to Image</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="2-02-testing-deployment.html">2. Testing the Deployment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="2-03-calling-from-application.html">2. Calling from an Application</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">3. Working with Kafka</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="3-01-create-kafka.html">1. Create a Kafka Queue</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="3-02-explore-kafka.html">2. Explore Kafka in a Notebook</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="3-03-create-secret.html">3. Create a Secret to Connect</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="3-04-kakfa-consumer.html">4. Deploy a Kafka Consumer</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Object Detection Workshop</a></li>
    <li>2. Serving with S2I</li>
    <li><a href="2-01-deploy-s2i.html">1. Deploy with Source to Image</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/rh-aiservices-bu/od-workshop/edit/master/documentation/modules/ROOT/pages/2-01-deploy-s2i.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">Deploying as Source To Image Application</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Now that the application code is working, we&#8217;re ready to build it as a container image, and have it running directly into OpenShift as a service you will be able to call from any other application.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_building_the_application_inside_openshift"><a class="anchor" href="#_building_the_application_inside_openshift"></a>Building the application inside OpenShift</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Open your OpenShift UI and switch to the developer view from the menu on the top left:</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/dev_view.png" alt="alt text">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Make sure you are in the right project that was assigned to you:</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/select_project.png" alt="alt text">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>From the <code>+Add</code> menu, click on the <code>From Git</code> tile:</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/from_git.png" alt="alt text">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>In the <code>Git Repo URL</code>field, enter: <code>https://github.com/rh-aiservices-bu/licence-plate-workshop.git</code></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/git_repo.png" alt="alt text">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Don&#8217;t miss this step!</strong> Click on <code>Show advanced Git options</code>, and in the <code>Git reference</code> field, enter <code>main</code> (this is the branch to use in our github project):</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/app_branch.png" alt="alt text">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Leave the other fields as default and scroll down. You will see that OpenShift automatically recognized that our repo contains Python code, and that the right base image has been selected. Pretty neat, eh?!</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/build_image.png" alt="alt text">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If you continue to scroll down, you will see that everything is automatically selected to create a deployment of your application, and to create a Route through which you will be able to access it. Everything is ready, so you can click on <code>Create</code>:</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/create_app.png" alt="alt text">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>You will see that a build is going on:</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/build_app.png" alt="alt text">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The automated building process will take a few minutes. Some Alerts may appear if OpenShift tries to deploy while the build is still running, but that&#8217;s OK. Then OpenShift will deploy the application (rollout), and in the topolody view you should obtain something like this:</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/topology_view.png" alt="alt text">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Just click on the application line to open a detail panel on the right:</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/detail_panel.png" alt="alt text">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If you scroll down on the detail panel, you will see the route that was created for your application. This is the URL you will use to send images:</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/route.png" alt="alt text">
</div>
</div>
<div class="paragraph">
<p>Once you&#8217;re finished, you can come back here and <a href="2-02-testing-deployment.html" class="page">head to the next section.</a></p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="1-05-model-api.html">5. Serving the model as an API</a></span>
  <span class="next"><a href="2-02-testing-deployment.html">2. Testing the Deployment</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <a class="rhd-logo" href="https://developers.redhat.com" target="_blank"></div>
</footer>
<script src="../_/js/vendor/clipboard.js"></script>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
